<!DOCTYPE html>
<head th:insert="~{fragments/head}"></head>
<body>
<header th:insert="~{fragments/header}"></header>
<main class="container">
    <div class="row">
        <div class="col-md-4 text-center">
            <div class="border p-3">
                <img th:src="'/images/' + ${model.base.photoUrl}" alt="User Avatar" class="img-fluid mb-3" style="width: 160px; height: 160px; object-fit: cover;">
                <p><strong th:text="${model.lastName}">-</strong></p>
                <p><strong th:text="${model.firstName}">-</strong></p>
                <p><strong th:text="${model.middleName}">-</strong></p>
                <p><strong th:text="${model.phone}">-</strong></p>
                <p><strong th:text="${model.email}">-</strong></p>
                <p><strong th:text="'Рейтинг: ' + ${model.rating}">-</strong></p>
            </div>
            <a class="btn btn-success mt-3" th:href="@{/agent/createProperty}">Добавить недвижимость</a>
        </div>
        <div class="col-md-8">
            <div class="row">
                <div class="col-md-6">
                    <h5>Мои объявления:</h5>
                    <div th:if="${#lists.isEmpty(model.advertisement)}" class="alert alert-info">
                        Записей не найдено
                    </div>
                    <div th:if="${not #lists.isEmpty(model.advertisement)}" class="border p-2 mb-2" th:each="property : ${model.advertisement}">
                        <p th:text="'Адрес: ' + ${property.city} + ', ' + ${property.street} + ', ' + ${property.houseNumber}">-</p>
                        <a class="btn btn-outline-primary btn-sm" th:href="@{/property/{id}(id=${property.propertyId})}">Подробнее</a>
                        <a class="btn btn-outline-warning btn-sm" th:href="@{/agent/editProperty/{id}(id=${property.propertyId})}">Редактировать</a>
                        <a class="btn btn-outline-danger btn-sm" th:href="@{/agent/deleteProperty/{id}(id=${property.propertyId})}">Удалить</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer th:replace="~{fragments/footer}"></footer>

</body>
</html>
